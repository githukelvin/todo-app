(()=>{let t,l,n,o=document.querySelector("body"),r=document.querySelector(".theme-toggle"),i=document.querySelector("form"),s=document.querySelector("input"),a=(document.querySelector(".img"),document.querySelector(".wrapper")),d=document.querySelector(".clear"),c=document.querySelector(".All"),m=document.querySelector(".Active"),u=document.querySelector(".Completed"),g=document.querySelector(".info");window.addEventListener("DOMContentLoaded",(()=>{})),i.addEventListener("submit",(e=>{e.preventDefault()})),s.addEventListener("keydown",(e=>{if(13===e.keyCode&&(t=s.value,t)){let e=`    <div class="list" draggable="true">\n           <div class="list-header">\n            <div class="radioh " role="radio"></div>\n            <p class="para">${t}</p>\n           </div>\n          <div class="img">\n          </div>`;a.innerHTML+=e,s.value=""}})),n=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));let v=[];function p(e){const t=n.findIndex((t=>t.item===e));-1!==t&&(n.splice(t,1),localStorage.setItem("todos",JSON.stringify(n)))}v=n.filter((e=>!e.isCompleted)),a.addEventListener("click",(function(e){let t=e.target;if(t.classList.contains("radioh")){t.classList.toggle("check"),t.nextElementSibling.classList.toggle("check")}else if(t.classList.contains("img")){let t=e.target.parentElement;p(e.target.previousElementSibling.lastElementChild.innerHTML),t.remove()}})),r.addEventListener("click",(()=>{o.classList.toggle("light")})),d.addEventListener("click",(()=>{document.querySelectorAll(".radioh.check").forEach((e=>{let t=e.parentElement.parentElement;n.filter((e=>e.isCompleted)).forEach((e=>{p(e.item)})),t.remove()}))})),c.addEventListener("click",(()=>{document.querySelectorAll(".list").forEach((e=>e.style.display="flex"))})),m.addEventListener("click",(()=>{document.querySelectorAll(".radioh").forEach((e=>{let t=e.parentElement.parentElement;e.classList.contains("check")?t.style.display="none":t.style.display="flex"}))})),u.addEventListener("click",(()=>{document.querySelectorAll(".radioh").forEach((e=>{let t=e.parentElement.parentElement;e.classList.contains("check")?t.style.display="flex":t.style.display="none"}))})),l=document.createElement("p"),l.innerHTML=`${v.length} items left`,g.appendChild(l),setInterval((function(){let e;e=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos")),document.querySelectorAll(".para").forEach((t=>{let l=t.innerHTML,n=!1;t.classList.contains("check")&&(n=!0);const o=e.findIndex((e=>e.item===l));-1===o?e.push({item:l,isCompleted:n}):e[o].isCompleted=n})),localStorage.setItem("todos",JSON.stringify(e))}),1e3),document.addEventListener("DOMContentLoaded",(function(){let e;e=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos")),e.forEach((({isCompleted:e,item:t})=>{let l;l=e?` <div class="list" draggable="true">\n           <div class="list-header">\n            <div class="radioh check" role="radio"></div>\n            <p class="para check">${t}</p>\n           </div>\n          <div class="img">\n          </div>`:`    <div class="list" draggable="true">\n           <div class="list-header">\n            <div class="radioh " role="radio"></div>\n            <p class="para">${t}</p>\n           </div>\n          <div class="img">\n          </div>`,a.innerHTML+=l}))})),a.addEventListener("dragover",(()=>{const t=(l=a,n=e.clientY,[...l.querySelectorAll(".list:not(.drag)")].reduce(((e,t)=>{const l=t.getBoundingClientRect(),o=n-l.top-l.height/2;return o<0&&o>e.offset?{offset:o,element:t}:e}),{offset:Number.NEGATIVE_INFINITY}).element);var l,n;const o=document.querySelector(".drag");null==t?a.appendChild(o):a.insertBefore(o,t)})),setTimeout((function(){document.querySelectorAll(".list").forEach(((e,t)=>{e.addEventListener("dragstart",(()=>{e.classList.add("drag")})),e.addEventListener("dragend",(()=>{e.classList.remove("drag")}))}))}),2e3)})();